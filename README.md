## 클라이언트와 서버

클라이언트(client) : 서비스를 **요청**하는 애플리케이션(컴퓨터)  
서버(server) : 서비스를 **제공**하는 애플리케이션(컴퓨터)

서버의 종류는 여러가지(Email server, File server 등)가 있지만, 우리가 지금 배우려고 하는 것은 웹서버(Web Server)이다.

한 대의 PC에는 여러가지 서버가 존재한다. 어떤 서버를 사용할지는 포트 번호로 정한다. 웹서버는 기본적으로 포트번호가 80이고 생략이 가능하다. 톰캣을 기본 포트번호가 8080!

**참고 : 0~1023까지는 이미 예약되어있는 포트번호이다.

#### WAS란?
: Web Application Server로 서버에 프로그램을 설치해 놓고, 클라이언트가 그 프로그램을 사용할 수 있게 해준다.

#### 톰캣의 내부구조
: 클라이언트가 요청을 보내면 서버의 톰캣에서는 미리 만들어진 쓰레드(Thread Pool)를 거쳐 Service로 요청을 보낸다.
Service에는 Connector가 들어있는데, 프로토콜 종류에 따라서 처리할 Connector가 정해진다.
그럼 이 Connector는 요청을 다시 엔진(Catalina)한테 전달한다.
엔진 안에는 호스트가 있는데 호스트 안에는 Context가 있다. Context는 웹애플리케이션을 뜻하는데, 당연히 여러개가 있을 수 있다!(스프링 프로젝트 하나가 Context하나)
Context안에는 서블릿이 있다. 서블릿이란 작은 서버 프로그램이라고 이해하면 되는데, 이 서블릿까지 요청이 와야 비로소 main메서드의 매개변수에 요청이 전달된다.  
(즉, 톰캣 안에 서비스 안에 엔진 안에 Host 안에 Context 안에 서블릿)


**참고 : 보통 하나의 톰캣한에 한개의 호스트가 있지만 경우에 따라서 여러개를 둘 수도 있다.(도메인 네임이 다른 호스트를 여러개 둘 수 있다는 뜻)


#### 톰캣의 설정파일
- server.xml
: Tomcat의 서버 설정 파일
- web.xml
: Tomcat의 공통설정 파일과 개인 설정 파일 두 개가 있다.


## HTTP 요청과 응답

**프로토콜이란?**
- 서로간의 통신을 위한 약속, 규칙. 주고 받을 데이터에 대한 형시을 정의한 것

**HTTP란?**
- Hyper Text Transfer Protocol
- 텍스트 기반의 프로토콜이기 때문에 단순하고 읽기가 쉽다. 또한 상태를 유지하지 않는다.(stateless - 즉, 클라이언트 정보를 저장하지 않는다는 것인데, 이 부분은 쿠키와 세션으로 해결할 수 있다.)
 확장 가능하다. 커스텀 헤더를 추가할 수 있다.

**HTTP 메시지**
 - 우리가 URL을 보내면 톰캣은 HttpServletRequest객체를 만든다고 했는데, 이 전에 사실 브라우저는 HTTP요청메시지를 만들어서 톰갯에 보낸다.

**HTTP 메서드**
 - get 
   - 서버의 리소스를 가져오기 위해 설계
   - QUERY STRING을 통해	데이터를 전달 (소용량)
   - URL에 데이터 노출되므로 보안에 취약
   - 데이터 공유에 유리
   - ex) 검색엔진에서 검색단어 전송에 이용
  - POST
    - 서버에 데이터를 올리기 위해 설계됨
    - 전송 데이터 크기의 제한이 없음(대용량)
    - 데이터를 요청 메시지의 body에 담아서 전송
    - 보안에 유리, 데이터 공유에는 불리
    - ex) 게시판에 글쓰기, 로그인, 회원가입
